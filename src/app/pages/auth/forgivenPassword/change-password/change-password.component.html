<div class="container padding-bottom-3x mb-2 mt-5">
  <div class="row justify-content-center">
    <div class="col-lg-10 col-md-10 offset-md-0">
      <div class="forgot">
        <h2 style="text-align: center">Set your new password</h2>
        <div class="row">
          <div class="col-6 col-md-12 offset-md-0">
            <div class="card">
              <div class="card-body">
                <div *ngIf="submitted && errorsMessage" class="alert alert-danger alert-dismissible fade show">
                    <strong>Error!</strong> {{ errorsMessage }}
                </div>
                <form
                  [formGroup]="changePasswordForm"
                  class="mx-auto"
                  (ngSubmit)="onSubmit()"
                  novalidate
                >
                  <div class="form-group">
                    <label>Password</label>
                    <div class="input-group">
                      <!-- Change input type to be able to accept dynamic data -->
                      <input
                        [type]="fieldTextType ? 'text' : 'password'"
                        class="form-control"
                        [formControlName]="'password'"
                        [ngClass]="{
                          'is-invalid': submitted && f.password.errors
                        }"
                        autofocus=""
                        placeholder="password"
                        required
                      />
                      <div class="input-group-append">
                        <span class="input-group-text">
                          <i
                            class="fa"
                            [ngClass]="{
                              'fa-eye-slash': !fieldTextType,
                              'fa-eye': fieldTextType
                            }"
                            (click)="toggleFieldTextType()"
                          ></i>
                        </span>
                      </div>
                      <div
                        *ngIf="submitted && f.password.errors"
                        class="invalid-feedback"
                      >
                        <div *ngIf="f.password.errors.required">
                          Password is required
                        </div>
                        <div *ngIf="f.password.errors.minlength">
                          Password must be at least 6 characters
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="form-group">
                    <label>Repeat your password</label>
                    <div class="input-group">
                      <!-- Change input type to be able to accept dynamic data -->
                      <input
                        [type]="repeatFieldTextType ? 'text' : 'password'"
                        class="form-control"
                        [formControlName]="'confirmpassword'"
                        [ngClass]="{
                          'is-invalid': submitted && f.confirmpassword.errors
                        }"
                      />
                      <div class="input-group-append">
                        <span class="input-group-text">
                          <i
                            class="fa"
                            [ngClass]="{
                              'fa-eye-slash': !repeatFieldTextType,
                              'fa-eye': repeatFieldTextType
                            }"
                            (click)="toggleRepeatFieldTextType()"
                          ></i>
                        </span>
                      </div>
                      <div
                        *ngIf="submitted && f.confirmpassword.errors"
                        class="invalid-feedback">
                        <div *ngIf="f.confirmpassword.errors.required">
                          Confirm Password is required
                        </div>
                        <div *ngIf="f.confirmpassword.errors.minlength">
                          Password must be at least 6 characters
                        </div>
                        <div *ngIf="f.confirmpassword.errors.mustMatch">
                          Passwords must match
                        </div>
                      </div>
                    </div>
                  </div>
                  <button class="btn-primary btn btn-block" type="submit">
                    Register
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
